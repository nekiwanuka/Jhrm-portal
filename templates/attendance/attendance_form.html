{% extends 'base.html' %}

{% block page_title %}
  {% if object %}
    Edit Form
  {% else %}
    New Form
  {% endif %}
{% endblock %}

{% block content %}
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <span>
      {% if object %}Update details{% else %}Enter details{% endif %}
    </span>
  </div>
  <div class="card-body">
    <form method="post" enctype="multipart/form-data" class="purpose-form-shell">
      {% csrf_token %}
      <p class="purpose-form-subtitle mb-3">Capture attendance date and check-in/check-out times for an employee.</p>

      {% if form.non_field_errors %}
        <div class="alert alert-danger mb-3">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="form-card-grid attendance-form-grid">
        <p>
          {{ form.employee.label_tag }}
          {{ form.employee }}
          {% if form.employee.errors %}<div class="text-danger small">{{ form.employee.errors }}</div>{% endif %}
        </p>
        <p>
          {{ form.date.label_tag }}
          {{ form.date }}
          {% if form.date.errors %}<div class="text-danger small">{{ form.date.errors }}</div>{% endif %}
        </p>
        <p>
          {{ form.check_in.label_tag }}
          {{ form.check_in }}
          {% if form.check_in.errors %}<div class="text-danger small">{{ form.check_in.errors }}</div>{% endif %}
        </p>
        <p>
          {{ form.check_out.label_tag }}
          {{ form.check_out }}
          {% if form.check_out.errors %}<div class="text-danger small">{{ form.check_out.errors }}</div>{% endif %}
        </p>
        <p class="attendance-field-span-4">
          {{ form.is_late }}
          {{ form.is_late.label_tag }}
          {% if form.is_late.errors %}<div class="text-danger small">{{ form.is_late.errors }}</div>{% endif %}
        </p>
      </div>

      <div class="mt-3 d-flex gap-2">
        <button class="btn btn-primary" type="submit">Save</button>
        <a class="btn btn-outline-secondary" href="javascript:history.back()">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
